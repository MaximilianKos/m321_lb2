<%- include('../partials/header', { title: 'Admin - Benutzer' }) %>

<h1>Admin â€“ Benutzerverwaltung</h1>

<% if (!users || users.length === 0) { %>
    <p>Keine Benutzer vorhanden.</p>
<% } else { %>
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>E-Mail</th>
            <th>Rolle</th>
            <th>Aktiv</th>
            <th>Aktionen</th>
        </tr>
        </thead>
        <tbody>
        <% users.forEach(function (u) { %>
            <tr>
                <td><%= u.id %></td>
                <td><%= u.email %></td>
                <td><%= u.role %></td>
                <td><%= u.active ? 'ja' : 'nein' %></td>
                <td>
                    <% if (u.active) { %>
                        <form action="/admin/users/<%= u.id %>/deactivate" method="post" style="display:inline;">
                            <button type="submit">Deaktivieren</button>
                        </form>
                    <% } else { %>
                        <form action="/admin/users/<%= u.id %>/activate" method="post" style="display:inline;">
                            <button type="submit">Aktivieren</button>
                        </form>
                    <% } %>
                </td>
            </tr>
        <% }); %>
        </tbody>
    </table>
<% } %>

<%- include('../partials/footer') %>